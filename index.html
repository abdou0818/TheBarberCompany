<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>صالون الحلاقة الملكي</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
/* ---------- إعدادات أساسية ---------- */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin:0; padding:0;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    transition: background 0.5s;
}
h2 { margin-top:0; }

/* ---------- ترويسة الصالون ---------- */
.shop-header {
    text-align: center;
    padding: 40px 20px 20px 20px;
    background: linear-gradient(90deg, #ff7e5f, #feb47b);
    color: #fff;
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
}
.shop-name { font-size: 2.5em; font-weight: bold; margin-bottom: 10px; }
.shop-subtitle { font-size: 1.2em; font-weight: 500; }

/* ---------- شبكة الكراسي ---------- */
.chairs-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    padding: 30px 20px;
}
.chair-card {
    width: 120px;
    padding: 20px;
    border-radius: 15px;
    background:#fff;
    text-align: center;
    box-shadow: 0 8px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s, box-shadow 0.3s;
}
.chair-card:hover { transform: translateY(-5px); box-shadow: 0 12px 20px rgba(0,0,0,0.2); }
.chair-card.available { border-top: 5px solid #27ae60; }
.chair-card.occupied { border-top: 5px solid #e74c3c; }
.chair-status { margin-top: 10px; font-weight: bold; color:#333; }

/* ---------- معرض الصور ---------- */
.gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 15px;
    padding: 20px;
}
.gallery-item {
    position: relative;
    overflow: hidden;
    border-radius: 15px;
    cursor: pointer;
    transition: transform 0.3s;
}
.gallery-item img {
    width:100%; height:100%;
    object-fit: cover;
    transition: transform 0.3s;
}
.gallery-item:hover img { transform: scale(1.1); }
.gallery-item-overlay {
    position:absolute; bottom:0; left:0; right:0;
    background: rgba(0,0,0,0.5);
    color:#fff; padding:5px; font-size:13px; text-align:center;
    opacity: 0; transition: opacity 0.3s;
}
.gallery-item:hover .gallery-item-overlay { opacity:1; }
.delete-img {
    position:absolute; top:5px; right:5px;
    background:rgba(255,0,0,0.7); color:#fff;
    border:none; border-radius:50%; width:24px; height:24px;
    display:flex; align-items:center; justify-content:center;
    cursor:pointer; font-size:16px;
}

/* ---------- لوحة الإعدادات ---------- */
.settings-modal {
    display:none; position:fixed; top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.7);
    justify-content:center; align-items:center;
    z-index:1000;
}
.settings-content {
    background:#fff; padding:20px; border-radius:15px;
    width:90%; max-width:500px; max-height:90%; overflow:auto;
    box-shadow: 0 8px 20px rgba(0,0,0,0.3);
}
.settings-section { margin-bottom:15px; }
.settings-section label { display:block; margin-bottom:5px; font-weight:600; }
.settings-section input, .settings-section textarea { width:100%; padding:8px; border:1px solid #ccc; border-radius:5px; }
.modal-close { float:right; cursor:pointer; color:#e74c3c; font-weight:600; font-size:22px; }
.save-btn, .add-img-btn { padding:10px 15px; background:#27ae60; color:#fff; border:none; border-radius:5px; cursor:pointer; margin-top:5px; transition: background 0.3s; }
.save-btn:hover, .add-img-btn:hover { background:#219150; }
#openSettings { position:fixed; bottom:20px; right:20px; z-index:100; }
</style>
</head>
<body>

<!-- ======= ترويسة الصالون ======= -->
<div class="shop-header">
    <div class="shop-name">صالون الحلاقة الملكي</div>
    <div class="shop-subtitle">أفضل خدمات الحلاقة والتجميل</div>
</div>

<!-- ======= شبكة الكراسي ======= -->
<div class="chairs-grid">
    <div class="chair-card available"><div class="chair-status">متاح</div></div>
    <div class="chair-card available"><div class="chair-status">متاح</div></div>
    <div class="chair-card available"><div class="chair-status">متاح</div></div>
</div>

<!-- ======= معرض الصور ======= -->
<div class="gallery-grid"></div>

<!-- ======= زر فتح الإعدادات ======= -->
<button id="openSettings" class="save-btn"><i class="fas fa-cog"></i> إعدادات</button>

<!-- ======= لوحة الإعدادات ======= -->
<div id="settingsModal" class="settings-modal">
    <div class="settings-content">
        <span class="modal-close" id="closeSettings">&times;</span>
        <h2>لوحة الإعدادات</h2>

        <div class="settings-section">
            <label>اسم الصالون</label>
            <input type="text" data-setting-key="name">
        </div>

        <div class="settings-section">
            <label>وصف الصالون</label>
            <input type="text" data-setting-key="subtitle">
        </div>

        <div class="settings-section">
            <label>عدد الكراسي</label>
            <input type="number" data-setting-key="chairCount">
        </div>

        <div class="settings-section">
            <label>الحد الأقصى للانتظار</label>
            <input type="number" data-setting-key="maxWaiting">
        </div>

        <div class="settings-section">
            <label>رفع صور جديدة للمعرض</label>
            <input type="file" id="addImageInput" accept="image/*" multiple>
            <button class="add-img-btn" id="addImageBtn">إضافة الصورة/الصور</button>
        </div>

        <button id="save-settings-btn" class="save-btn">حفظ التغييرات</button>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    let currentSettings = {
        name: "صالون الحلاقة الملكي",
        subtitle: "أفضل خدمات الحلاقة والتجميل",
        chairCount: 3,
        maxWaiting: 20,
        gallery: []
    };

    const modal = document.getElementById('settingsModal');
    const openBtn = document.getElementById('openSettings');
    const closeBtn = document.getElementById('closeSettings');
    const saveBtn = document.getElementById('save-settings-btn');
    const addImageInput = document.getElementById('addImageInput');
    const addImageBtn = document.getElementById('addImageBtn');
    const galleryGrid = document.querySelector('.gallery-grid');

    openBtn.addEventListener('click', ()=>modal.style.display='flex');
    closeBtn.addEventListener('click', ()=>modal.style.display='none');
    window.addEventListener('click', e=>{ if(e.target==modal) modal.style.display='none'; });

    function applySettings(settings){
        document.querySelector('.shop-name').textContent = settings.name;
        document.querySelector('.shop-subtitle').textContent = settings.subtitle;

        // الكراسي
        const chairCards = document.querySelectorAll('.chair-card');
        chairCards.forEach((card,i)=>{
            const status = card.querySelector('.chair-status');
            if(i<settings.chairCount){
                card.classList.add('available'); card.classList.remove('occupied');
                if(status){ status.textContent='متاح'; status.classList.add('available'); status.classList.remove('occupied'); }
            } else {
                card.classList.remove('available'); card.classList.add('occupied');
                if(status){ status.textContent='مشغول'; status.classList.remove('available'); status.classList.add('occupied'); }
            }
        });

        // معرض الصور
        galleryGrid.innerHTML='';
        settings.gallery.forEach((img,index)=>{
            const div = document.createElement('div');
            div.classList.add('gallery-item');
            div.innerHTML = `
                <img src="${img.src}" alt="${img.alt||''}">
                <div class="gallery-item-overlay">${img.alt||''}</div>
                <button class="delete-img" data-index="${index}">&times;</button>
            `;
            galleryGrid.appendChild(div);
        });

        galleryGrid.querySelectorAll('.delete-img').forEach(btn=>{
            btn.addEventListener('click', e=>{
                const idx = parseInt(e.target.dataset.index);
                currentSettings.gallery.splice(idx,1);
                applySettings(currentSettings);
            });
        });

        // ملء Inputs
        document.querySelectorAll('.settings-section input[data-setting-key]').forEach(input=>{
            const key = input.dataset.settingKey;
            if(key && settings[key]!==undefined) input.value=settings[key];
        });
    }

    // التحديث عند الكتابة
    document.querySelectorAll('.settings-section input[data-setting-key]').forEach(input=>{
        input.addEventListener('input', ()=>{
            const key = input.dataset.settingKey;
            if(!key) return;
            currentSettings[key]=input.type==='number'?parseInt(input.value)||0:input.value;
            applySettings(currentSettings);
        });
    });

    // إضافة الصور من الجهاز
    addImageBtn.addEventListener('click', ()=>{
        const files = addImageInput.files;
        if(!files.length) return alert('اختر صورة واحدة على الأقل!');
        Array.from(files).forEach(file=>{
            const reader = new FileReader();
            reader.onload = e=>{
                currentSettings.gallery.push({src:e.target.result, alt:file.name});
                applySettings(currentSettings);
            };
            reader.readAsDataURL(file);
        });
        addImageInput.value='';
    });

    saveBtn.addEventListener('click', ()=>{
        alert('تم تطبيق جميع التغييرات للزوار مباشرة!');
        modal.style.display='none';
        console.log(currentSettings);
    });

    applySettings(currentSettings);
});
</script>

</body>
</html>
